{"ast":null,"code":"import axios from 'axios';\nimport { createAsyncThunk } from '@reduxjs/toolkit';\nimport 'react-toastify/dist/ReactToastify.css';\naxios.defaults.baseURL = 'https://taskpro-backend-uiwy.onrender.com';\nconst token = {\n  set(token) {\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n  },\n  unset() {\n    axios.defaults.headers.common.Authorization = '';\n  }\n};\nexport const addCard = createAsyncThunk('dashboards/addCard', async (_ref, thunkAPI) => {\n  let {\n    columnId,\n    title,\n    description,\n    priority,\n    deadline,\n    owner\n  } = _ref;\n  try {\n    const {\n      data\n    } = await axios.post(`api/todos/${columnId}`, {\n      title,\n      description,\n      priority,\n      deadline\n    });\n    token.set(data.token);\n    return data;\n  } catch (error) {\n    return thunkAPI.rejectWithValue(error.message);\n  }\n});\nexport const deleteCard = createAsyncThunk('dashboards/deleteCard', async (todoId, thunkAPI) => {\n  try {\n    const {\n      data\n    } = await axios.delete(`api/todos/${todoId}`);\n    token.set(data.token);\n    return data;\n  } catch (error) {\n    return thunkAPI.rejectWithValue(error.message);\n  }\n});\nexport const editCard = createAsyncThunk('dashboards/editCard', async (_ref2, thunkAPI) => {\n  let {\n    todoId,\n    title,\n    description,\n    priority,\n    deadline\n  } = _ref2;\n  try {\n    const {\n      data\n    } = await axios.patch(`api/todos/${todoId}`, {\n      title,\n      description,\n      priority,\n      deadline\n    });\n    token.set(data.token);\n    return data;\n  } catch (error) {\n    return thunkAPI.rejectWithValue(error.message);\n  }\n});","map":{"version":3,"names":["axios","createAsyncThunk","defaults","baseURL","token","set","headers","common","Authorization","unset","addCard","_ref","thunkAPI","columnId","title","description","priority","deadline","owner","data","post","error","rejectWithValue","message","deleteCard","todoId","delete","editCard","_ref2","patch"],"sources":["/Users/vlasvin/Documents/GitHub/TaskPro-FrontEnd-Team5/src/store/dashboards/dashboardsOperations.js"],"sourcesContent":["import axios from 'axios';\nimport { createAsyncThunk } from '@reduxjs/toolkit';\nimport 'react-toastify/dist/ReactToastify.css';\n\naxios.defaults.baseURL = 'https://taskpro-backend-uiwy.onrender.com';\n\nconst token = {\n  set(token) {\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n  },\n  unset() {\n    axios.defaults.headers.common.Authorization = '';\n  },\n};\nexport const addCard = createAsyncThunk(\n  'dashboards/addCard',\n  async (\n    { columnId, title, description, priority, deadline, owner },\n    thunkAPI\n  ) => {\n    try {\n      const { data } = await axios.post(`api/todos/${columnId}`, {\n        title,\n        description,\n        priority,\n        deadline,\n      });\n      token.set(data.token);\n\n      return data;\n    } catch (error) {\n      return thunkAPI.rejectWithValue(error.message);\n    }\n  }\n);\nexport const deleteCard = createAsyncThunk(\n  'dashboards/deleteCard',\n  async (todoId, thunkAPI) => {\n    try {\n      const { data } = await axios.delete(`api/todos/${todoId}`);\n      token.set(data.token);\n\n      return data;\n    } catch (error) {\n      return thunkAPI.rejectWithValue(error.message);\n    }\n  }\n);\n\nexport const editCard = createAsyncThunk(\n  'dashboards/editCard',\n  async ({ todoId, title, description, priority, deadline }, thunkAPI) => {\n    try {\n      const { data } = await axios.patch(`api/todos/${todoId}`, {\n        title,\n        description,\n        priority,\n        deadline,\n      });\n      token.set(data.token);\n\n      return data;\n    } catch (error) {\n      return thunkAPI.rejectWithValue(error.message);\n    }\n  }\n);"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,gBAAgB,QAAQ,kBAAkB;AACnD,OAAO,uCAAuC;AAE9CD,KAAK,CAACE,QAAQ,CAACC,OAAO,GAAG,2CAA2C;AAEpE,MAAMC,KAAK,GAAG;EACZC,GAAGA,CAACD,KAAK,EAAE;IACTJ,KAAK,CAACE,QAAQ,CAACI,OAAO,CAACC,MAAM,CAACC,aAAa,GAAI,UAASJ,KAAM,EAAC;EACjE,CAAC;EACDK,KAAKA,CAAA,EAAG;IACNT,KAAK,CAACE,QAAQ,CAACI,OAAO,CAACC,MAAM,CAACC,aAAa,GAAG,EAAE;EAClD;AACF,CAAC;AACD,OAAO,MAAME,OAAO,GAAGT,gBAAgB,CACrC,oBAAoB,EACpB,OAAAU,IAAA,EAEEC,QAAQ,KACL;EAAA,IAFH;IAAEC,QAAQ;IAAEC,KAAK;IAAEC,WAAW;IAAEC,QAAQ;IAAEC,QAAQ;IAAEC;EAAM,CAAC,GAAAP,IAAA;EAG3D,IAAI;IACF,MAAM;MAAEQ;IAAK,CAAC,GAAG,MAAMnB,KAAK,CAACoB,IAAI,CAAE,aAAYP,QAAS,EAAC,EAAE;MACzDC,KAAK;MACLC,WAAW;MACXC,QAAQ;MACRC;IACF,CAAC,CAAC;IACFb,KAAK,CAACC,GAAG,CAACc,IAAI,CAACf,KAAK,CAAC;IAErB,OAAOe,IAAI;EACb,CAAC,CAAC,OAAOE,KAAK,EAAE;IACd,OAAOT,QAAQ,CAACU,eAAe,CAACD,KAAK,CAACE,OAAO,CAAC;EAChD;AACF,CACF,CAAC;AACD,OAAO,MAAMC,UAAU,GAAGvB,gBAAgB,CACxC,uBAAuB,EACvB,OAAOwB,MAAM,EAAEb,QAAQ,KAAK;EAC1B,IAAI;IACF,MAAM;MAAEO;IAAK,CAAC,GAAG,MAAMnB,KAAK,CAAC0B,MAAM,CAAE,aAAYD,MAAO,EAAC,CAAC;IAC1DrB,KAAK,CAACC,GAAG,CAACc,IAAI,CAACf,KAAK,CAAC;IAErB,OAAOe,IAAI;EACb,CAAC,CAAC,OAAOE,KAAK,EAAE;IACd,OAAOT,QAAQ,CAACU,eAAe,CAACD,KAAK,CAACE,OAAO,CAAC;EAChD;AACF,CACF,CAAC;AAED,OAAO,MAAMI,QAAQ,GAAG1B,gBAAgB,CACtC,qBAAqB,EACrB,OAAA2B,KAAA,EAA2DhB,QAAQ,KAAK;EAAA,IAAjE;IAAEa,MAAM;IAAEX,KAAK;IAAEC,WAAW;IAAEC,QAAQ;IAAEC;EAAS,CAAC,GAAAW,KAAA;EACvD,IAAI;IACF,MAAM;MAAET;IAAK,CAAC,GAAG,MAAMnB,KAAK,CAAC6B,KAAK,CAAE,aAAYJ,MAAO,EAAC,EAAE;MACxDX,KAAK;MACLC,WAAW;MACXC,QAAQ;MACRC;IACF,CAAC,CAAC;IACFb,KAAK,CAACC,GAAG,CAACc,IAAI,CAACf,KAAK,CAAC;IAErB,OAAOe,IAAI;EACb,CAAC,CAAC,OAAOE,KAAK,EAAE;IACd,OAAOT,QAAQ,CAACU,eAAe,CAACD,KAAK,CAACE,OAAO,CAAC;EAChD;AACF,CACF,CAAC"},"metadata":{},"sourceType":"module"}